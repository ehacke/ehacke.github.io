<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<div id="timeline" style="height: 1800px;"></div>
<script>
  google.charts.load('current', {'packages':['timeline']});
  google.charts.setOnLoadCallback(drawChart);
  function drawChart() {
    var container = document.getElementById('timeline');
    var chart = new google.visualization.Timeline(container);
    var dataTable = new google.visualization.DataTable();

    dataTable.addColumn({ type: 'string', id: 'Layer' });
    dataTable.addColumn({ type: 'string', id: 'Function' });
    dataTable.addColumn({ type: 'number', id: 'Start' });
    dataTable.addColumn({ type: 'number', id: 'End' });

    var bannersStart = 0;
    var bannersEnd = bannersStart + 150;
    var searchApiStart = 0;
    var searchApiEnd = searchApiStart + 1100;
    var suggestionsStart = searchApiEnd;

    dataTable.addRows([
      [ 'Frontend','HTML', 0, 400 ],
      [ 'Frontend','Resources', 400, 500 ],
      [ 'Frontend','Scripting', 500, 800 ],
      [ 'Frontend','Banners API', bannersStart, bannersEnd ],
      [ 'Backend','RealTimeCompositeProductFirstCatNavSearcher', bannersStart, bannersEnd ],
      [ 'Data','ES', bannersStart, bannersStart + 100 ],

      [ 'Frontend','Search API', searchApiStart, searchApiEnd ],

      [ 'Backend','getFallbackRetrievalResponse', searchApiStart + 60, searchApiStart + 260 ],
      [ 'Data','ES', searchApiStart + 113, searchApiStart + 219 ],
      [ 'Backend','getPromotedPlacementRetrievalResponse', searchApiStart + 60, searchApiStart + 212 ],
      [ 'Data','ES', searchApiStart + 120, searchApiStart + 190 ],
      [ 'Backend','getRetrievalResponse', searchApiStart + 60, searchApiStart + 260 ],
      [ 'Data','ES', searchApiStart + 115, searchApiStart + 224 ],
      [ 'Backend','SearchCandidatesAggregator.getInitialRetrievalResponse.NEW_BRANDS', searchApiStart + 60, searchApiStart + 197 ],
      [ 'Data','ES', searchApiStart + 120, searchApiStart + 180 ],

      [ 'Backend','getPromotedPlacementRankedCandidates', searchApiStart + 278, searchApiStart + 380 ],
      [ 'Backend','extractFeatures', searchApiStart + 278, searchApiStart + 350 ],
      [ 'Data','redis', searchApiStart + 294, searchApiStart + 336 ],
      [ 'Backend','computeFeatures', searchApiStart + 356, searchApiStart + 375],
      [ 'Backend','executeModels', searchApiStart + 375, searchApiStart + 380 ],

      [ 'Backend','getRankedCandidates', searchApiStart + 278, searchApiStart + 460 ],
      [ 'Backend','extractFeatures', searchApiStart + 278, searchApiStart + 378 ],
      [ 'Data','redis', searchApiStart + 302, searchApiStart + 378 ],
      [ 'Backend','computeFeatures', searchApiStart + 379, searchApiStart + 436 ],
      [ 'Backend','executeModels', searchApiStart + 436, searchApiStart + 459 ],

      [ 'Backend','postProcessResponseBuilder', searchApiStart + 463, searchApiStart + 512 ],
      [ 'Data','sql', searchApiStart + 485, searchApiStart + 512 ],
      [ 'Backend','buildResponseAndRecordImpressions', searchApiStart + 522, searchApiStart + 565 ],

      [ 'Backend','wire', searchApiStart + 566, searchApiStart + 621 ],
      [ 'Backend','logging', searchApiStart + 463, searchApiStart + 653 ],
      [ 'Backend','lean-product-tiles', searchApiStart + 625, searchApiStart + 693 ],

      [ 'Backend','wire', searchApiStart + 744, searchApiStart + 788 ],

      [ 'Frontend','Suggestions API', suggestionsStart, suggestionsStart + 100 ],
      [ 'Frontend','Suggestions API', suggestionsStart, suggestionsStart + 100 ],

      [ 'Frontend','Image Loading', suggestionsStart + 100, suggestionsStart + 200 ],
    ]);

    chart.draw(dataTable);
  }
</script>
</body>
</html>
